# # Redireciona HTTP (porta 80) para HTTPS
# server {
#     listen 80;
#     server_name api.snappcheckout.com;

#     location / {
#         return 301 https://$host$request_uri;
#     }
# }

# # Configuração principal HTTPS (porta 443)
# server {
#     listen 443 ssl;
#     server_name api.snappcheckout.com;

#     # Caminhos para os certificados da Cloudflare (Passo 2)
#     ssl_certificate /etc/ssl/snappcheckout/cert.pem;
#     ssl_certificate_key /etc/ssl/snappcheckout/key.pem;

#     location / {
#         # Repassa a requisição para sua API Docker
#         # (Seu docker-compose expõe a porta 3002)
#         proxy_pass http://localhost:3002; 

#         # Cabeçalhos importantes para o proxy reverso
#         proxy_set_header Host $host;
#         proxy_set_header X-Real-IP $remote_addr;
#         proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
#         proxy_set_header X-Forwarded-Proto $scheme;

#         # O arquivo nginx.conf que você enviou tinha estas boas 
#         # configurações para SSE/Websockets, vamos mantê-las.
#         proxy_buffering off;
#         proxy_cache off;
#         proxy_http_version 1.1;
#     }
# }